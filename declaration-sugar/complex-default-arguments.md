# Complex Default Arguments

Tink allows for arbitrary default arguments. Note that the expression will be evaluated for every function call. The generated code is similar to that generated by Haxe for simple default arguments (i.e. when `null` is passed, then the default value is applied). Example:

```haxe
function prophanityFilter(text:String, blacklist:Array<String> = haxe.Resource.getString('blacklist').split('\n)) {
    //...
}
```

As you can see, that works well.

## Function Options

Default arguments that are anonymous objects are treated specially in that each of their properties can be optional and those that are passed are merged with the defaults.

```haxe
function mysqlConnect(options = { host: 'localhost', port: 3306, user: _, password: _, database: 'test' }) {}

//which can be called like so:

mysqlConnect({ user: 'root', password: '' });
mysqlConnect({ user: 'u3405', password: 'cpej3051', host: 'foo.dbserver.com' });


//because it is transformed to this:

function mysqlConnect(options: { ?host: String, ?port: Int, user:Unknown, password:Unknwon, ?database:String }) {
    if (options.host == null) options.host = 'localhost';
    if (options.port == null) options.port = 3306;
    if (options.database == null) options.database = 'test';
}
```

This kind of signature is useful to pass many options to a single function, hence the name "function options". The following rules apply

- To have a mandatory option (that's a bit of an oxymoron), you can use `_`. 
- To give an option a type, use the `($expr : $type)` syntax.
- If you have a mandatory options, then the whole options object becomes mandatory.
- You can specify multiple options if you wish to, although there's no real point in doing that.

### Direct options

If you don't wish to actually have an object holding the options, but rather variables directly, you can use this:

```haxe
function bar(_ = { x: someX, y:someY, ...}) 
    body;

//becomes

function bar(?_:{?x:X,?y:Y}) {
    var x = if (_ == null || _.x == null) someX else _.x;
    var y = if (_ == null || _.y == null) someY else _.y;
    body;
}
```

This comes pretty close to [named parameters](http://en.wikipedia.org/wiki/Named_parameter). 

